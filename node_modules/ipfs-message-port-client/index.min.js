(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.IpfsMessagePortClient = factory()}(typeof self !== 'undefined' ? self : this, function () {
var IpfsMessagePortClient=(()=>{var Xn=Object.create;var qe=Object.defineProperty;var Zn=Object.getOwnPropertyDescriptor;var Kn=Object.getOwnPropertyNames;var ei=Object.getPrototypeOf,ti=Object.prototype.hasOwnProperty;var Vt=r=>qe(r,"__esModule",{value:!0});var ri=(r,e)=>()=>(r&&(e=r(r=0)),e);var w=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),ni=(r,e)=>{Vt(r);for(var t in e)qe(r,t,{get:e[t],enumerable:!0})},ii=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Kn(e))!ti.call(r,n)&&n!=="default"&&qe(r,n,{get:()=>e[n],enumerable:!(t=Zn(e,n))||t.enumerable});return r},ke=r=>ii(Vt(qe(r!=null?Xn(ei(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Jt=w($e=>{l();"use strict";$e.byteLength=si;$e.toByteArray=ci;$e.fromByteArray=li;var q=[],U=[],oi=typeof Uint8Array!="undefined"?Uint8Array:Array,rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(fe=0,Wt=rt.length;fe<Wt;++fe)q[fe]=rt[fe],U[rt.charCodeAt(fe)]=fe;var fe,Wt;U["-".charCodeAt(0)]=62;U["_".charCodeAt(0)]=63;function Ht(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function si(r){var e=Ht(r),t=e[0],n=e[1];return(t+n)*3/4-n}function ai(r,e,t){return(e+t)*3/4-t}function ci(r){var e,t=Ht(r),n=t[0],i=t[1],o=new oi(ai(r,n,i)),s=0,c=i>0?n-4:n,a;for(a=0;a<c;a+=4)e=U[r.charCodeAt(a)]<<18|U[r.charCodeAt(a+1)]<<12|U[r.charCodeAt(a+2)]<<6|U[r.charCodeAt(a+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=U[r.charCodeAt(a)]<<2|U[r.charCodeAt(a+1)]>>4,o[s++]=e&255),i===1&&(e=U[r.charCodeAt(a)]<<10|U[r.charCodeAt(a+1)]<<4|U[r.charCodeAt(a+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function ui(r){return q[r>>18&63]+q[r>>12&63]+q[r>>6&63]+q[r&63]}function fi(r,e,t){for(var n,i=[],o=e;o<t;o+=3)n=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),i.push(ui(n));return i.join("")}function li(r){for(var e,t=r.length,n=t%3,i=[],o=16383,s=0,c=t-n;s<c;s+=o)i.push(fi(r,s,s+o>c?c:s+o));return n===1?(e=r[t-1],i.push(q[e>>2]+q[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(q[e>>10]+q[e>>4&63]+q[e<<2&63]+"=")),i.join("")}});var Gt=w(nt=>{l();nt.read=function(r,e,t,n,i){var o,s,c=i*8-n-1,a=(1<<c)-1,u=a>>1,h=-7,p=t?i-1:0,B=t?-1:1,C=r[e+p];for(p+=B,o=C&(1<<-h)-1,C>>=-h,h+=c;h>0;o=o*256+r[e+p],p+=B,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=s*256+r[e+p],p+=B,h-=8);if(o===0)o=1-u;else{if(o===a)return s?NaN:(C?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(C?-1:1)*s*Math.pow(2,o-n)};nt.write=function(r,e,t,n,i,o){var s,c,a,u=o*8-i-1,h=(1<<u)-1,p=h>>1,B=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=n?0:o-1,g=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),s+p>=1?e+=B/a:e+=B*Math.pow(2,1-p),e*a>=2&&(s++,a/=2),s+p>=h?(c=0,s=h):s+p>=1?(c=(e*a-1)*Math.pow(2,i),s=s+p):(c=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;r[t+C]=c&255,C+=g,c/=256,i-=8);for(s=s<<i|c,u+=i;u>0;r[t+C]=s&255,C+=g,s/=256,u-=8);r[t+C-g]|=T*128}});var lr=w(xe=>{l();"use strict";var it=Jt(),ge=Gt(),Yt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;xe.Buffer=f;xe.SlowBuffer=gi;xe.INSPECT_MAX_BYTES=50;var Ve=2147483647;xe.kMaxLength=Ve;f.TYPED_ARRAY_SUPPORT=hi();!f.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function hi(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.buffer}});Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.byteOffset}});function X(r){if(r>Ve)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,f.prototype),e}function f(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ot(r)}return Qt(r,e,t)}f.poolSize=8192;function Qt(r,e,t){if(typeof r=="string")return di(r,e);if(ArrayBuffer.isView(r))return yi(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if($(r,ArrayBuffer)||r&&$(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&($(r,SharedArrayBuffer)||r&&$(r.buffer,SharedArrayBuffer)))return at(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return f.from(n,e,t);let i=mi(r);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return f.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}f.from=function(r,e,t){return Qt(r,e,t)};Object.setPrototypeOf(f.prototype,Uint8Array.prototype);Object.setPrototypeOf(f,Uint8Array);function Xt(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function pi(r,e,t){return Xt(r),r<=0?X(r):e!==void 0?typeof t=="string"?X(r).fill(e,t):X(r).fill(e):X(r)}f.alloc=function(r,e,t){return pi(r,e,t)};function ot(r){return Xt(r),X(r<0?0:ct(r)|0)}f.allocUnsafe=function(r){return ot(r)};f.allocUnsafeSlow=function(r){return ot(r)};function di(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Zt(r,e)|0,n=X(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function st(r){let e=r.length<0?0:ct(r.length)|0,t=X(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function yi(r){if($(r,Uint8Array)){let e=new Uint8Array(r);return at(e.buffer,e.byteOffset,e.byteLength)}return st(r)}function at(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,f.prototype),n}function mi(r){if(f.isBuffer(r)){let e=ct(r.length)|0,t=X(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||lt(r.length)?X(0):st(r);if(r.type==="Buffer"&&Array.isArray(r.data))return st(r.data)}function ct(r){if(r>=Ve)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ve.toString(16)+" bytes");return r|0}function gi(r){return+r!=r&&(r=0),f.alloc(+r)}f.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==f.prototype};f.compare=function(e,t){if($(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0};f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return f.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=f.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){let s=e[n];if($(s,Uint8Array))o+s.length>i.length?(f.isBuffer(s)||(s=f.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(f.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Zt(r,e){if(f.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||$(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return ft(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return fr(r).length;default:if(i)return n?-1:ft(r).length;e=(""+e).toLowerCase(),i=!0}}f.byteLength=Zt;function wi(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Di(this,e,t);case"utf8":case"utf-8":return tr(this,e,t);case"ascii":return Ti(this,e,t);case"latin1":case"binary":return _i(this,e,t);case"base64":return Ii(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fi(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}f.prototype._isBuffer=!0;function le(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}f.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)le(this,t,t+1);return this};f.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)le(this,t,t+3),le(this,t+1,t+2);return this};f.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)le(this,t,t+7),le(this,t+1,t+6),le(this,t+2,t+5),le(this,t+3,t+4);return this};f.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?tr(this,0,e):wi.apply(this,arguments)};f.prototype.toLocaleString=f.prototype.toString;f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:f.compare(this,e)===0};f.prototype.inspect=function(){let e="",t=xe.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Yt&&(f.prototype[Yt]=f.prototype.inspect);f.prototype.compare=function(e,t,n,i,o){if($(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,c=n-t,a=Math.min(s,c),u=this.slice(i,o),h=e.slice(t,n);for(let p=0;p<a;++p)if(u[p]!==h[p]){s=u[p],c=h[p];break}return s<c?-1:c<s?1:0};function Kt(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,lt(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=f.from(e,n)),f.isBuffer(e))return e.length===0?-1:er(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):er(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function er(r,e,t,n,i){let o=1,s=r.length,c=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,s/=2,c/=2,t/=2}function a(h,p){return o===1?h[p]:h.readUInt16BE(p*o)}let u;if(i){let h=-1;for(u=t;u<s;u++)if(a(r,u)===a(e,h===-1?0:u-h)){if(h===-1&&(h=u),u-h+1===c)return h*o}else h!==-1&&(u-=u-h),h=-1}else for(t+c>s&&(t=s-c),u=t;u>=0;u--){let h=!0;for(let p=0;p<c;p++)if(a(r,u+p)!==a(e,p)){h=!1;break}if(h)return u}return-1}f.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};f.prototype.indexOf=function(e,t,n){return Kt(this,e,t,n,!0)};f.prototype.lastIndexOf=function(e,t,n){return Kt(this,e,t,n,!1)};function bi(r,e,t,n){t=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let c=parseInt(e.substr(s*2,2),16);if(lt(c))return s;r[t+s]=c}return s}function xi(r,e,t,n){return We(ft(e,r.length-t),r,t,n)}function Ei(r,e,t,n){return We(Ui(e),r,t,n)}function Bi(r,e,t,n){return We(fr(e),r,t,n)}function Si(r,e,t,n){return We(Li(e,r.length-t),r,t,n)}f.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return bi(this,e,t,n);case"utf8":case"utf-8":return xi(this,e,t,n);case"ascii":case"latin1":case"binary":return Ei(this,e,t,n);case"base64":return Bi(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Si(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ii(r,e,t){return e===0&&t===r.length?it.fromByteArray(r):it.fromByteArray(r.slice(e,t))}function tr(r,e,t){t=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let o=r[i],s=null,c=o>239?4:o>223?3:o>191?2:1;if(i+c<=t){let a,u,h,p;switch(c){case 1:o<128&&(s=o);break;case 2:a=r[i+1],(a&192)==128&&(p=(o&31)<<6|a&63,p>127&&(s=p));break;case 3:a=r[i+1],u=r[i+2],(a&192)==128&&(u&192)==128&&(p=(o&15)<<12|(a&63)<<6|u&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:a=r[i+1],u=r[i+2],h=r[i+3],(a&192)==128&&(u&192)==128&&(h&192)==128&&(p=(o&15)<<18|(a&63)<<12|(u&63)<<6|h&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,c=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=c}return Ai(n)}var rr=4096;function Ai(r){let e=r.length;if(e<=rr)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=rr));return t}function Ti(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function _i(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function Di(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let i="";for(let o=e;o<t;++o)i+=Ni[r[o]];return i}function Fi(r,e,t){let n=r.slice(e,t),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}f.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,f.prototype),i};function S(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||S(e,t,this.length);let i=this[e],o=1,s=0;for(;++s<t&&(o*=256);)i+=this[e+s]*o;return i};f.prototype.readUintBE=f.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||S(e,t,this.length);let i=this[e+--t],o=1;for(;t>0&&(o*=256);)i+=this[e+--t]*o;return i};f.prototype.readUint8=f.prototype.readUInt8=function(e,t){return e=e>>>0,t||S(e,1,this.length),this[e]};f.prototype.readUint16LE=f.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||S(e,2,this.length),this[e]|this[e+1]<<8};f.prototype.readUint16BE=f.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||S(e,2,this.length),this[e]<<8|this[e+1]};f.prototype.readUint32LE=f.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};f.prototype.readUint32BE=f.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||S(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};f.prototype.readBigUInt64LE=ie(function(e){e=e>>>0,be(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ce(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});f.prototype.readBigUInt64BE=ie(function(e){e=e>>>0,be(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ce(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});f.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||S(e,t,this.length);let i=this[e],o=1,s=0;for(;++s<t&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};f.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||S(e,t,this.length);let i=t,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s};f.prototype.readInt8=function(e,t){return e=e>>>0,t||S(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};f.prototype.readInt16LE=function(e,t){e=e>>>0,t||S(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};f.prototype.readInt16BE=function(e,t){e=e>>>0,t||S(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};f.prototype.readInt32LE=function(e,t){return e=e>>>0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};f.prototype.readInt32BE=function(e,t){return e=e>>>0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};f.prototype.readBigInt64LE=ie(function(e){e=e>>>0,be(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ce(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});f.prototype.readBigInt64BE=ie(function(e){e=e>>>0,be(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ce(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});f.prototype.readFloatLE=function(e,t){return e=e>>>0,t||S(e,4,this.length),ge.read(this,e,!0,23,4)};f.prototype.readFloatBE=function(e,t){return e=e>>>0,t||S(e,4,this.length),ge.read(this,e,!1,23,4)};f.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||S(e,8,this.length),ge.read(this,e,!0,52,8)};f.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||S(e,8,this.length),ge.read(this,e,!1,52,8)};function _(r,e,t,n,i,o){if(!f.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;_(this,e,t,n,c,0)}let o=1,s=0;for(this[t]=e&255;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n};f.prototype.writeUintBE=f.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;_(this,e,t,n,c,0)}let o=n-1,s=1;for(this[t+o]=e&255;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n};f.prototype.writeUint8=f.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,1,255,0),this[t]=e&255,t+1};f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function nr(r,e,t,n,i){ur(e,n,i,r,t,7);let o=Number(e&BigInt(4294967295));r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,t}function ir(r,e,t,n,i){ur(e,n,i,r,t,7);let o=Number(e&BigInt(4294967295));r[t+7]=o,o=o>>8,r[t+6]=o,o=o>>8,r[t+5]=o,o=o>>8,r[t+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=s,s=s>>8,r[t+2]=s,s=s>>8,r[t+1]=s,s=s>>8,r[t]=s,t+8}f.prototype.writeBigUInt64LE=ie(function(e,t=0){return nr(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});f.prototype.writeBigUInt64BE=ie(function(e,t=0){return ir(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});f.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let a=Math.pow(2,8*n-1);_(this,e,t,n,a-1,-a)}let o=0,s=1,c=0;for(this[t]=e&255;++o<n&&(s*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/s>>0)-c&255;return t+n};f.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let a=Math.pow(2,8*n-1);_(this,e,t,n,a-1,-a)}let o=n-1,s=1,c=0;for(this[t+o]=e&255;--o>=0&&(s*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/s>>0)-c&255;return t+n};f.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};f.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};f.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};f.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};f.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};f.prototype.writeBigInt64LE=ie(function(e,t=0){return nr(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});f.prototype.writeBigInt64BE=ie(function(e,t=0){return ir(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function or(r,e,t,n,i,o){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function sr(r,e,t,n,i){return e=+e,t=t>>>0,i||or(r,e,t,4,34028234663852886e22,-34028234663852886e22),ge.write(r,e,t,n,23,4),t+4}f.prototype.writeFloatLE=function(e,t,n){return sr(this,e,t,!0,n)};f.prototype.writeFloatBE=function(e,t,n){return sr(this,e,t,!1,n)};function ar(r,e,t,n,i){return e=+e,t=t>>>0,i||or(r,e,t,8,17976931348623157e292,-17976931348623157e292),ge.write(r,e,t,n,52,8),t+8}f.prototype.writeDoubleLE=function(e,t,n){return ar(this,e,t,!0,n)};f.prototype.writeDoubleBE=function(e,t,n){return ar(this,e,t,!1,n)};f.prototype.copy=function(e,t,n,i){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),o};f.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=t;o<n;++o)this[o]=e;else{let s=f.isBuffer(e)?e:f.from(e,i),c=s.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%c]}return this};var we={};function ut(r,e,t){we[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}ut("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);ut("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);ut("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=cr(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=cr(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function cr(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function ki(r,e,t){be(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Ce(e,r.length-(t+1))}function ur(r,e,t,n,i,o){if(r>t||r<e){let s=typeof e=="bigint"?"n":"",c;throw o>3?e===0||e===BigInt(0)?c=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:c=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:c=`>= ${e}${s} and <= ${t}${s}`,new we.ERR_OUT_OF_RANGE("value",c,r)}ki(n,i,o)}function be(r,e){if(typeof r!="number")throw new we.ERR_INVALID_ARG_TYPE(e,"number",r)}function Ce(r,e,t){throw Math.floor(r)!==r?(be(r,t),new we.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new we.ERR_BUFFER_OUT_OF_BOUNDS:new we.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var Ci=/[^+/0-9A-Za-z-_]/g;function Oi(r){if(r=r.split("=")[0],r=r.trim().replace(Ci,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function ft(r,e){e=e||1/0;let t,n=r.length,i=null,o=[];for(let s=0;s<n;++s){if(t=r.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function Ui(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Li(r,e){let t,n,i,o=[];for(let s=0;s<r.length&&!((e-=2)<0);++s)t=r.charCodeAt(s),n=t>>8,i=t%256,o.push(i),o.push(n);return o}function fr(r){return it.toByteArray(Oi(r))}function We(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function $(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function lt(r){return r!==r}var Ni=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<16;++i)e[n+i]=r[t]+r[i]}return e}();function ie(r){return typeof BigInt=="undefined"?zi:r}function zi(){throw new Error("BigInt not supported")}});var mr=w((Yo,yr)=>{l();var x=yr.exports={},V,W;function ht(){throw new Error("setTimeout has not been defined")}function pt(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?V=setTimeout:V=ht}catch(r){V=ht}try{typeof clearTimeout=="function"?W=clearTimeout:W=pt}catch(r){W=pt}})();function hr(r){if(V===setTimeout)return setTimeout(r,0);if((V===ht||!V)&&setTimeout)return V=setTimeout,setTimeout(r,0);try{return V(r,0)}catch(e){try{return V.call(null,r,0)}catch(t){return V.call(this,r,0)}}}function vi(r){if(W===clearTimeout)return clearTimeout(r);if((W===pt||!W)&&clearTimeout)return W=clearTimeout,clearTimeout(r);try{return W(r)}catch(e){try{return W.call(null,r)}catch(t){return W.call(this,r)}}}var Z=[],Ee=!1,he,He=-1;function ji(){!Ee||!he||(Ee=!1,he.length?Z=he.concat(Z):He=-1,Z.length&&pr())}function pr(){if(!Ee){var r=hr(ji);Ee=!0;for(var e=Z.length;e;){for(he=Z,Z=[];++He<e;)he&&he[He].run();He=-1,e=Z.length}he=null,Ee=!1,vi(r)}}x.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Z.push(new dr(r,e)),Z.length===1&&!Ee&&hr(pr)};function dr(r,e){this.fun=r,this.array=e}dr.prototype.run=function(){this.fun.apply(null,this.array)};x.title="browser";x.browser=!0;x.env={};x.argv=[];x.version="";x.versions={};function K(){}x.on=K;x.addListener=K;x.once=K;x.off=K;x.removeListener=K;x.removeAllListeners=K;x.emit=K;x.prependListener=K;x.prependOnceListener=K;x.listeners=function(r){return[]};x.binding=function(r){throw new Error("process.binding is not supported")};x.cwd=function(){return"/"};x.chdir=function(r){throw new Error("process.chdir is not supported")};x.umask=function(){return 0}});var Buffer,process,l=ri(()=>{({Buffer}=lr()),process=mr()});var jr=w((ta,vr)=>{l();"use strict";async function*Eo(r,e={}){let t=r.getReader();try{for(;;){let n=await t.read();if(n.done)return;yield n.value}}finally{e.preventCancel!==!0&&t.cancel(),t.releaseLock()}}vr.exports=Eo});var Pr=w((ra,Rr)=>{l();"use strict";function Mr(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function Bo(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return Mr(r,t)}catch(n){t.message=r.message,t.stack=r.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(r)),Mr(new i,t)}}Rr.exports=Bo});var $r=w((na,qr)=>{l();"use strict";qr.exports=So;function So(r,e){for(var t=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)t[n++]=arguments[i++];return new Promise(function(c,a){t[n]=function(h){if(o)if(o=!1,h)a(h);else{for(var p=new Array(arguments.length-1),B=0;B<p.length;)p[B++]=arguments[B];c.apply(null,p)}};try{r.apply(e||null,t)}catch(u){o&&(o=!1,a(u))}})}});var Jr=w(Hr=>{l();"use strict";var Qe=Hr;Qe.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&e.charAt(t)==="=";)++n;return Math.ceil(e.length*3)/4-n};var _e=new Array(64),Vr=new Array(123);for(v=0;v<64;)Vr[_e[v]=v<26?v+65:v<52?v+71:v<62?v-4:v-59|43]=v++;var v;Qe.encode=function(e,t,n){for(var i=null,o=[],s=0,c=0,a;t<n;){var u=e[t++];switch(c){case 0:o[s++]=_e[u>>2],a=(u&3)<<4,c=1;break;case 1:o[s++]=_e[a|u>>4],a=(u&15)<<2,c=2;break;case 2:o[s++]=_e[a|u>>6],o[s++]=_e[u&63],c=0;break}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0)}return c&&(o[s++]=_e[a],o[s++]=61,c===1&&(o[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var Wr="invalid encoding";Qe.decode=function(e,t,n){for(var i=n,o=0,s,c=0;c<e.length;){var a=e.charCodeAt(c++);if(a===61&&o>1)break;if((a=Vr[a])===void 0)throw Error(Wr);switch(o){case 0:s=a,o=1;break;case 1:t[n++]=s<<2|(a&48)>>4,s=a,o=2;break;case 2:t[n++]=(s&15)<<4|(a&60)>>2,s=a,o=3;break;case 3:t[n++]=(s&3)<<6|a,o=0;break}}if(o===1)throw Error(Wr);return n-i};Qe.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Yr=w((oa,Gr)=>{l();"use strict";Gr.exports=Xe;function Xe(){this._listeners={}}Xe.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this};Xe.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this};Xe.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this}});var rn=w((sa,tn)=>{l();"use strict";tn.exports=Qr(Qr);function Qr(r){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),n=t[3]===128;function i(a,u,h){e[0]=a,u[h]=t[0],u[h+1]=t[1],u[h+2]=t[2],u[h+3]=t[3]}function o(a,u,h){e[0]=a,u[h]=t[3],u[h+1]=t[2],u[h+2]=t[1],u[h+3]=t[0]}r.writeFloatLE=n?i:o,r.writeFloatBE=n?o:i;function s(a,u){return t[0]=a[u],t[1]=a[u+1],t[2]=a[u+2],t[3]=a[u+3],e[0]}function c(a,u){return t[3]=a[u],t[2]=a[u+1],t[1]=a[u+2],t[0]=a[u+3],e[0]}r.readFloatLE=n?s:c,r.readFloatBE=n?c:s}():function(){function e(n,i,o,s){var c=i<0?1:0;if(c&&(i=-i),i===0)n(1/i>0?0:2147483648,o,s);else if(isNaN(i))n(2143289344,o,s);else if(i>34028234663852886e22)n((c<<31|2139095040)>>>0,o,s);else if(i<11754943508222875e-54)n((c<<31|Math.round(i/1401298464324817e-60))>>>0,o,s);else{var a=Math.floor(Math.log(i)/Math.LN2),u=Math.round(i*Math.pow(2,-a)*8388608)&8388607;n((c<<31|a+127<<23|u)>>>0,o,s)}}r.writeFloatLE=e.bind(null,Xr),r.writeFloatBE=e.bind(null,Zr);function t(n,i,o){var s=n(i,o),c=(s>>31)*2+1,a=s>>>23&255,u=s&8388607;return a===255?u?NaN:c*(1/0):a===0?c*1401298464324817e-60*u:c*Math.pow(2,a-150)*(u+8388608)}r.readFloatLE=t.bind(null,Kr),r.readFloatBE=t.bind(null,en)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),n=t[7]===128;function i(a,u,h){e[0]=a,u[h]=t[0],u[h+1]=t[1],u[h+2]=t[2],u[h+3]=t[3],u[h+4]=t[4],u[h+5]=t[5],u[h+6]=t[6],u[h+7]=t[7]}function o(a,u,h){e[0]=a,u[h]=t[7],u[h+1]=t[6],u[h+2]=t[5],u[h+3]=t[4],u[h+4]=t[3],u[h+5]=t[2],u[h+6]=t[1],u[h+7]=t[0]}r.writeDoubleLE=n?i:o,r.writeDoubleBE=n?o:i;function s(a,u){return t[0]=a[u],t[1]=a[u+1],t[2]=a[u+2],t[3]=a[u+3],t[4]=a[u+4],t[5]=a[u+5],t[6]=a[u+6],t[7]=a[u+7],e[0]}function c(a,u){return t[7]=a[u],t[6]=a[u+1],t[5]=a[u+2],t[4]=a[u+3],t[3]=a[u+4],t[2]=a[u+5],t[1]=a[u+6],t[0]=a[u+7],e[0]}r.readDoubleLE=n?s:c,r.readDoubleBE=n?c:s}():function(){function e(n,i,o,s,c,a){var u=s<0?1:0;if(u&&(s=-s),s===0)n(0,c,a+i),n(1/s>0?0:2147483648,c,a+o);else if(isNaN(s))n(0,c,a+i),n(2146959360,c,a+o);else if(s>17976931348623157e292)n(0,c,a+i),n((u<<31|2146435072)>>>0,c,a+o);else{var h;if(s<22250738585072014e-324)h=s/5e-324,n(h>>>0,c,a+i),n((u<<31|h/4294967296)>>>0,c,a+o);else{var p=Math.floor(Math.log(s)/Math.LN2);p===1024&&(p=1023),h=s*Math.pow(2,-p),n(h*4503599627370496>>>0,c,a+i),n((u<<31|p+1023<<20|h*1048576&1048575)>>>0,c,a+o)}}}r.writeDoubleLE=e.bind(null,Xr,0,4),r.writeDoubleBE=e.bind(null,Zr,4,0);function t(n,i,o,s,c){var a=n(s,c+i),u=n(s,c+o),h=(u>>31)*2+1,p=u>>>20&2047,B=4294967296*(u&1048575)+a;return p===2047?B?NaN:h*(1/0):p===0?h*5e-324*B:h*Math.pow(2,p-1075)*(B+4503599627370496)}r.readDoubleLE=t.bind(null,Kr,0,4),r.readDoubleBE=t.bind(null,en,4,0)}(),r}function Xr(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function Zr(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function Kr(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function en(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var nn=w((exports,module)=>{l();"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var sn=w(on=>{l();"use strict";var St=on;St.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?t+=1:n<2048?t+=2:(n&64512)==55296&&(e.charCodeAt(i+1)&64512)==56320?(++i,t+=4):t+=3;return t};St.read=function(e,t,n){var i=n-t;if(i<1)return"";for(var o=null,s=[],c=0,a;t<n;)a=e[t++],a<128?s[c++]=a:a>191&&a<224?s[c++]=(a&31)<<6|e[t++]&63:a>239&&a<365?(a=((a&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,s[c++]=55296+(a>>10),s[c++]=56320+(a&1023)):s[c++]=(a&15)<<12|(e[t++]&63)<<6|e[t++]&63,c>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),c=0);return o?(c&&o.push(String.fromCharCode.apply(String,s.slice(0,c))),o.join("")):String.fromCharCode.apply(String,s.slice(0,c))};St.write=function(e,t,n){for(var i=n,o,s,c=0;c<e.length;++c)o=e.charCodeAt(c),o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)==55296&&((s=e.charCodeAt(c+1))&64512)==56320?(o=65536+((o&1023)<<10)+(s&1023),++c,t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128);return n-i}});var cn=w((ca,an)=>{l();"use strict";an.exports=Io;function Io(r,e,t){var n=t||8192,i=n>>>1,o=null,s=n;return function(a){if(a<1||a>i)return r(a);s+a>n&&(o=r(n),s=0);var u=e.call(o,s,s+=a);return s&7&&(s=(s|7)+1),u}}});var fn=w((ua,un)=>{l();"use strict";un.exports=I;var ve=ae();function I(r,e){this.lo=r>>>0,this.hi=e>>>0}var de=I.zero=new I(0,0);de.toNumber=function(){return 0};de.zzEncode=de.zzDecode=function(){return this};de.length=function(){return 1};var Ao=I.zeroHash="\0\0\0\0\0\0\0\0";I.fromNumber=function(e){if(e===0)return de;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new I(n,i)};I.from=function(e){if(typeof e=="number")return I.fromNumber(e);if(ve.isString(e))if(ve.Long)e=ve.Long.fromString(e);else return I.fromNumber(parseInt(e,10));return e.low||e.high?new I(e.low>>>0,e.high>>>0):de};I.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+n*4294967296)}return this.lo+this.hi*4294967296};I.prototype.toLong=function(e){return ve.Long?new ve.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var se=String.prototype.charCodeAt;I.fromHash=function(e){return e===Ao?de:new I((se.call(e,0)|se.call(e,1)<<8|se.call(e,2)<<16|se.call(e,3)<<24)>>>0,(se.call(e,4)|se.call(e,5)<<8|se.call(e,6)<<16|se.call(e,7)<<24)>>>0)};I.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};I.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};I.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};I.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}});var ae=w(It=>{l();"use strict";var d=It;d.asPromise=$r();d.base64=Jr();d.EventEmitter=Yr();d.float=rn();d.inquire=nn();d.utf8=sn();d.pool=cn();d.LongBits=fn();d.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);d.global=d.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||It;d.emptyArray=Object.freeze?Object.freeze([]):[];d.emptyObject=Object.freeze?Object.freeze({}):{};d.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};d.isString=function(e){return typeof e=="string"||e instanceof String};d.isObject=function(e){return e&&typeof e=="object"};d.isset=d.isSet=function(e,t){var n=e[t];return n!=null&&e.hasOwnProperty(t)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};d.Buffer=function(){try{var r=d.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch(e){return null}}();d._Buffer_from=null;d._Buffer_allocUnsafe=null;d.newBuffer=function(e){return typeof e=="number"?d.Buffer?d._Buffer_allocUnsafe(e):new d.Array(e):d.Buffer?d._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};d.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;d.Long=d.global.dcodeIO&&d.global.dcodeIO.Long||d.global.Long||d.inquire("long");d.key2Re=/^true|false|0|1$/;d.key32Re=/^-?(?:0|[1-9][0-9]*)$/;d.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;d.longToHash=function(e){return e?d.LongBits.from(e).toHash():d.LongBits.zeroHash};d.longFromHash=function(e,t){var n=d.LongBits.fromHash(e);return d.Long?d.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))};function ln(r,e,t){for(var n=Object.keys(e),i=0;i<n.length;++i)(r[n[i]]===void 0||!t)&&(r[n[i]]=e[n[i]]);return r}d.merge=ln;d.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function hn(r){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&ln(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return r}}),e.prototype.toString=function(){return this.name+": "+this.message},e}d.newError=hn;d.ProtocolError=hn("ProtocolError");d.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(t[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};d.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}};d.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};d._configure=function(){var r=d.Buffer;if(!r){d._Buffer_from=d._Buffer_allocUnsafe=null;return}d._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,n){return new r(t,n)},d._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var Ct=w((la,mn)=>{l();"use strict";mn.exports=m;var L=ae(),At,Ze=L.LongBits,pn=L.base64,dn=L.utf8;function je(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function Tt(){}function To(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function m(){this.len=0,this.head=new je(Tt,0,0),this.tail=this.head,this.states=null}var yn=function(){return L.Buffer?function(){return(m.create=function(){return new At})()}:function(){return new m}};m.create=yn();m.alloc=function(e){return new L.Array(e)};L.Array!==Array&&(m.alloc=L.pool(m.alloc,L.Array.prototype.subarray));m.prototype._push=function(e,t,n){return this.tail=this.tail.next=new je(e,t,n),this.len+=t,this};function _t(r,e,t){e[t]=r&255}function _o(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function Dt(r,e){this.len=r,this.next=void 0,this.val=e}Dt.prototype=Object.create(je.prototype);Dt.prototype.fn=_o;m.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Dt((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};m.prototype.int32=function(e){return e<0?this._push(Ft,10,Ze.fromNumber(e)):this.uint32(e)};m.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Ft(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}m.prototype.uint64=function(e){var t=Ze.from(e);return this._push(Ft,t.length(),t)};m.prototype.int64=m.prototype.uint64;m.prototype.sint64=function(e){var t=Ze.from(e).zzEncode();return this._push(Ft,t.length(),t)};m.prototype.bool=function(e){return this._push(_t,1,e?1:0)};function kt(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}m.prototype.fixed32=function(e){return this._push(kt,4,e>>>0)};m.prototype.sfixed32=m.prototype.fixed32;m.prototype.fixed64=function(e){var t=Ze.from(e);return this._push(kt,4,t.lo)._push(kt,4,t.hi)};m.prototype.sfixed64=m.prototype.fixed64;m.prototype.float=function(e){return this._push(L.float.writeFloatLE,4,e)};m.prototype.double=function(e){return this._push(L.float.writeDoubleLE,8,e)};var Do=L.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};m.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(_t,1,0);if(L.isString(e)){var n=m.alloc(t=pn.length(e));pn.decode(e,n,0),e=n}return this.uint32(t)._push(Do,t,e)};m.prototype.string=function(e){var t=dn.length(e);return t?this.uint32(t)._push(dn.write,t,e):this._push(_t,1,0)};m.prototype.fork=function(){return this.states=new To(this),this.head=this.tail=new je(Tt,0,0),this.len=0,this};m.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new je(Tt,0,0),this.len=0),this};m.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this};m.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t};m._configure=function(r){At=r,m.create=yn(),At._configure()}});var bn=w((ha,wn)=>{l();"use strict";wn.exports=G;var gn=Ct();(G.prototype=Object.create(gn.prototype)).constructor=G;var ce=ae();function G(){gn.call(this)}G._configure=function(){G.alloc=ce._Buffer_allocUnsafe,G.writeBytesBuffer=ce.Buffer&&ce.Buffer.prototype instanceof Uint8Array&&ce.Buffer.prototype.set.name==="set"?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]}};G.prototype.bytes=function(e){ce.isString(e)&&(e=ce._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(G.writeBytesBuffer,t,e),this};function Fo(r,e,t){r.length<40?ce.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}G.prototype.string=function(e){var t=ce.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Fo,t,e),this};G._configure()});var Lt=w((pa,In)=>{l();"use strict";In.exports=E;var Y=ae(),Ot,xn=Y.LongBits,ko=Y.utf8;function j(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function E(r){this.buf=r,this.pos=0,this.len=r.length}var En=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new E(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new E(e);throw Error("illegal buffer")},Bn=function(){return Y.Buffer?function(t){return(E.create=function(i){return Y.Buffer.isBuffer(i)?new Ot(i):En(i)})(t)}:En};E.create=Bn();E.prototype._slice=Y.Array.prototype.subarray||Y.Array.prototype.slice;E.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,j(this,10);return e}}();E.prototype.int32=function(){return this.uint32()|0};E.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Ut(){var r=new xn(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw j(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw j(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}E.prototype.bool=function(){return this.uint32()!==0};function Ke(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}E.prototype.fixed32=function(){if(this.pos+4>this.len)throw j(this,4);return Ke(this.buf,this.pos+=4)};E.prototype.sfixed32=function(){if(this.pos+4>this.len)throw j(this,4);return Ke(this.buf,this.pos+=4)|0};function Sn(){if(this.pos+8>this.len)throw j(this,8);return new xn(Ke(this.buf,this.pos+=4),Ke(this.buf,this.pos+=4))}E.prototype.float=function(){if(this.pos+4>this.len)throw j(this,4);var e=Y.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};E.prototype.double=function(){if(this.pos+8>this.len)throw j(this,4);var e=Y.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};E.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw j(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)};E.prototype.string=function(){var e=this.bytes();return ko.read(e,0,e.length)};E.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw j(this,e);this.pos+=e}else do if(this.pos>=this.len)throw j(this);while(this.buf[this.pos++]&128);return this};E.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!=4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};E._configure=function(r){Ot=r,E.create=Bn(),Ot._configure();var e=Y.Long?"toLong":"toNumber";Y.merge(E.prototype,{int64:function(){return Ut.call(this)[e](!1)},uint64:function(){return Ut.call(this)[e](!0)},sint64:function(){return Ut.call(this).zzDecode()[e](!1)},fixed64:function(){return Sn.call(this)[e](!0)},sfixed64:function(){return Sn.call(this)[e](!1)}})}});var Dn=w((da,_n)=>{l();"use strict";_n.exports=ye;var An=Lt();(ye.prototype=Object.create(An.prototype)).constructor=ye;var Tn=ae();function ye(r){An.call(this,r)}ye._configure=function(){Tn.Buffer&&(ye.prototype._slice=Tn.Buffer.prototype.slice)};ye.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};ye._configure()});var kn=w((ya,Fn)=>{l();"use strict";Fn.exports=Me;var Nt=ae();(Me.prototype=Object.create(Nt.EventEmitter.prototype)).constructor=Me;function Me(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");Nt.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}Me.prototype.rpcCall=function r(e,t,n,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return Nt.asPromise(r,s,e,t,n,i);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(e,t[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(a,u){if(a)return s.emit("error",a,e),o(a);if(u===null){s.end(!0);return}if(!(u instanceof n))try{u=n[s.responseDelimited?"decodeDelimited":"decode"](u)}catch(h){return s.emit("error",h,e),o(h)}return s.emit("data",u,e),o(null,u)})}catch(c){s.emit("error",c,e),setTimeout(function(){o(c)},0);return}};Me.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var On=w(Cn=>{l();"use strict";var Co=Cn;Co.Service=kn()});var Ln=w((ga,Un)=>{l();"use strict";Un.exports={}});var vn=w(zn=>{l();"use strict";var F=zn;F.build="minimal";F.Writer=Ct();F.BufferWriter=bn();F.Reader=Lt();F.BufferReader=Dn();F.util=ae();F.rpc=On();F.roots=Ln();F.configure=Nn;function Nn(){F.util._configure(),F.Writer._configure(F.BufferWriter),F.Reader._configure(F.BufferReader)}Nn()});var Mn=w((ba,jn)=>{l();"use strict";jn.exports=vn()});var Vn=w((_a,$n)=>{l();"use strict";function Uo(r){let[e,t]=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>e.next(),push:i=>{n.push(i)},next:()=>n.length?{done:!1,value:n.shift()}:e.next(),[t](){return this}}}$n.exports=Uo});var Jn=w((Da,Hn)=>{l();"use strict";function Wn(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function Lo(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return Wn(r,t)}catch(n){t.message=r.message,t.stack=r.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(r)),Wn(new i,t)}}Hn.exports=Lo});var $o={};ni($o,{IPFSClient:()=>Re});l();l();l();var gr=r=>{let{name:e,message:t,stack:n,code:i,detail:o}=r;return{name:e,message:t,stack:n,code:i,detail:o}},Be=r=>{if(r instanceof Error)return r;{let{name:e,message:t,stack:n,code:i}=r;return Object.assign(Mi(e,t),{name:e,stack:n,code:i})}},Mi=(r,e)=>{switch(r){case"RangeError":return new RangeError(e);case"ReferenceError":return ReferenceError(e);case"SyntaxError":return new SyntaxError(e);case"TypeError":return new TypeError(e);case"URIError":return new URIError(e);default:return new Error(e)}};l();var dt=class extends Error{get name(){return this.constructor.name}},yt=class extends Error{get name(){return this.constructor.name}},mt=class extends Error{get name(){return this.constructor.name}};var oe=class{constructor(e){this.port=null,this.id=Math.random().toString(32).slice(2),this.nextID=0,this.queries=Object.create(null),e&&this.connect(e)}execute(e){let t=`${this.id}@${this.nextID++}`;return this.queries[t]=e,e.timeout>0&&e.timeout<1/0&&(e.timerID=setTimeout(oe.timeout,e.timeout,this,t)),e.signal&&e.signal.addEventListener("abort",()=>this.abort(t),{once:!0}),this.port&&oe.postQuery(this.port,t,e),e.result}connect(e){if(this.port)throw new Error("Transport is already open");this.port=e,this.port.addEventListener("message",this),this.port.start();for(let[t,n]of Object.entries(this.queries))oe.postQuery(e,t,n)}disconnect(){let e=new mt;for(let[t,n]of Object.entries(this.queries))n.fail(e),this.abort(t);this.port&&(this.port.removeEventListener("message",this),this.port.close())}static timeout(e,t){let{queries:n}=e,i=n[t];i&&(delete n[t],i.fail(new dt("request timed out")),e.port&&e.port.postMessage({type:"abort",id:t}))}abort(e){let{queries:t}=this,n=t[e];n&&(delete t[e],n.fail(new yt),this.port&&this.port.postMessage({type:"abort",id:e}),n.timerID!=null&&clearTimeout(n.timerID))}static postQuery(e,t,n){e.postMessage({type:"query",namespace:n.namespace,method:n.method,id:t,input:n.toJSON()},n.transfer())}handleEvent(e){let{id:t,result:n}=e.data,i=this.queries[t];i&&(delete this.queries[t],n.ok?i.succeed(n.value):i.fail(Be(n.error)),i.timerID!=null&&clearTimeout(i.timerID))}};l();l();l();l();var gt=class{constructor(e,t,n){this.result=new Promise((i,o)=>{this.succeed=i,this.fail=o,this.signal=n.signal,this.input=n,this.namespace=e,this.method=t,this.timeout=n.timeout==null?1/0:n.timeout,this.timerID=null})}toJSON(){return this.input}transfer(){return this.input.transfer}};var wt=class{constructor(e,t,n){this.transport=n;let i=this;for(let o of t)i[o]=s=>this.transport.execute(new gt(e,o.toString(),s))}};var ee=class{constructor(e,t,n){this.remote=new wt(e,t,n)}};l();l();l();l();var Ri=br,wr=128,Pi=127,qi=~Pi,$i=Math.pow(2,31);function br(r,e,t){e=e||[],t=t||0;for(var n=t;r>=$i;)e[t++]=r&255|wr,r/=128;for(;r&qi;)e[t++]=r&255|wr,r>>>=7;return e[t]=r|0,br.bytes=t-n+1,e}var Vi=bt,Wi=128,xr=127;function bt(r,e){var t=0,e=e||0,n=0,i=e,o,s=r.length;do{if(i>=s)throw bt.bytes=0,new RangeError("Could not decode varint");o=r[i++],t+=n<28?(o&xr)<<n:(o&xr)*Math.pow(2,n),n+=7}while(o>=Wi);return bt.bytes=i-e,t}var Hi=Math.pow(2,7),Ji=Math.pow(2,14),Gi=Math.pow(2,21),Yi=Math.pow(2,28),Qi=Math.pow(2,35),Xi=Math.pow(2,42),Zi=Math.pow(2,49),Ki=Math.pow(2,56),eo=Math.pow(2,63),to=function(r){return r<Hi?1:r<Ji?2:r<Gi?3:r<Yi?4:r<Qi?5:r<Xi?6:r<Zi?7:r<Ki?8:r<eo?9:10},ro={encode:Ri,decode:Vi,encodingLength:to},no=ro,Oe=no;var Ue=r=>[Oe.decode(r),Oe.decode.bytes],Se=(r,e,t=0)=>(Oe.encode(r,e,t),e),Ie=r=>Oe.encodingLength(r);l();l();var fs=new Uint8Array(0);var Er=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},Ae=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")};var Br=(r,e)=>{let t=e.byteLength,n=Ie(r),i=n+Ie(t),o=new Uint8Array(i+t);return Se(r,o,0),Se(t,o,n),o.set(e,i),new Le(r,t,e,o)},Sr=r=>{let e=Ae(r),[t,n]=Ue(e),[i,o]=Ue(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Le(t,i,s,e)},Ir=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&Er(r.bytes,e.bytes),Le=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}};l();l();l();function io(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var o=r.charAt(i),s=o.charCodeAt(0);if(t[s]!==255)throw new TypeError(o+" is ambiguous");t[s]=i}var c=r.length,a=r.charAt(0),u=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function p(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var T=0,ue=0,N=0,M=g.length;N!==M&&g[N]===0;)N++,T++;for(var R=(M-N)*h+1>>>0,O=new Uint8Array(R);N!==M;){for(var P=g[N],ne=0,z=R-1;(P!==0||ne<ue)&&z!==-1;z--,ne++)P+=256*O[z]>>>0,O[z]=P%c>>>0,P=P/c>>>0;if(P!==0)throw new Error("Non-zero carry");ue=ne,N++}for(var Q=R-ue;Q!==R&&O[Q]===0;)Q++;for(var Pe=a.repeat(T);Q<R;++Q)Pe+=r.charAt(O[Q]);return Pe}function B(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var T=0;if(g[T]!==" "){for(var ue=0,N=0;g[T]===a;)ue++,T++;for(var M=(g.length-T)*u+1>>>0,R=new Uint8Array(M);g[T];){var O=t[g.charCodeAt(T)];if(O===255)return;for(var P=0,ne=M-1;(O!==0||P<N)&&ne!==-1;ne--,P++)O+=c*R[ne]>>>0,R[ne]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");N=P,T++}if(g[T]!==" "){for(var z=M-N;z!==M&&R[z]===0;)z++;for(var Q=new Uint8Array(ue+(M-z)),Pe=ue;z!==M;)Q[Pe++]=R[z++];return Q}}}function C(g){var T=B(g);if(T)return T;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:B,decode:C}}var oo=io,so=oo,Ar=so;var Tr=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},_r=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){return Fr(this,e)}},Dr=class{constructor(e){this.decoders=e}or(e){return Fr(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Fr=(r,e)=>new Dr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),kr=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new Tr(e,t,n),this.decoder=new _r(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Cr=({name:r,prefix:e,encode:t,decode:n})=>new kr(r,e,t,n),xt=({prefix:r,name:e,alphabet:t})=>{let{encode:n,decode:i}=Ar(t,e);return Cr({prefix:r,name:e,encode:n,decode:o=>Ae(i(o))})},ao=(r,e,t,n)=>{let i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let o=r.length;for(;r[o-1]==="=";)--o;let s=new Uint8Array(o*t/8|0),c=0,a=0,u=0;for(let h=0;h<o;++h){let p=i[r[h]];if(p===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<t|p,c+=t,c>=8&&(c-=8,s[u++]=255&a>>c)}if(c>=t||255&a<<8-c)throw new SyntaxError("Unexpected end of data");return s},co=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,o="",s=0,c=0;for(let a=0;a<r.length;++a)for(c=c<<8|r[a],s+=8;s>t;)s-=t,o+=e[i&c>>s];if(s&&(o+=e[i&c<<t-s]),n)for(;o.length*t&7;)o+="=";return o},H=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Cr({prefix:e,name:r,encode(i){return co(i,n,t)},decode(i){return ao(i,n,t,r)}});var te=xt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xs=xt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});l();var Ne=H({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ss=H({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Is=H({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),As=H({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ts=H({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_s=H({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ds=H({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Fs=H({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ks=H({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var b=class{constructor(e,t,n,i){this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Ge,byteLength:Ge,code:Je,version:Je,multihash:Je,bytes:Je,_baseCache:Ge,asCID:Ge})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ze)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ho)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return b.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,n=Br(e,t);return b.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Ir(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:i}=this;switch(n){case 0:return fo(t,i,e||te.encoder);default:return lo(t,i,e||Ne.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return yo(/^0\.0/,mo),!!(e&&(e[Ur]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof b)return e;if(e!=null&&e.asCID===e){let{version:t,code:n,multihash:i,bytes:o}=e;return new b(t,n,i,o||Or(t,n,i.bytes))}else if(e!=null&&e[Ur]===!0){let{version:t,multihash:n,code:i}=e,o=Sr(n);return b.create(t,i,o)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ze)throw new Error(`Version 0 CID must use dag-pb (code: ${ze}) block encoding`);return new b(e,t,n,n.bytes)}case 1:{let i=Or(e,t,n.bytes);return new b(e,t,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return b.create(0,ze,e)}static createV1(e,t){return b.create(1,e,t)}static decode(e){let[t,n]=b.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=b.inspectBytes(e),n=t.size-t.multihashSize,i=Ae(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=i.subarray(t.multihashSize-t.digestSize),s=new Le(t.multihashCode,t.digestSize,o,i);return[t.version===0?b.createV0(s):b.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,n=()=>{let[p,B]=Ue(e.subarray(t));return t+=B,p},i=n(),o=ze;if(i===18?(i=0,t=0):i===1&&(o=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=t,c=n(),a=n(),u=t+a,h=u-s;return{version:i,codec:o,multihashCode:c,digestSize:a,multihashSize:h,size:u}}static parse(e,t){let[n,i]=uo(e,t),o=b.decode(i);return o._baseCache.set(n,e),o}},uo=(r,e)=>{switch(r[0]){case"Q":{let t=e||te;return[te.prefix,t.decode(`${te.prefix}${r}`)]}case te.prefix:{let t=e||te;return[te.prefix,t.decode(r)]}case Ne.prefix:{let t=e||Ne;return[Ne.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},fo=(r,e,t)=>{let{prefix:n}=t;if(n!==te.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let i=e.get(n);if(i==null){let o=t.encode(r).slice(1);return e.set(n,o),o}else return i},lo=(r,e,t)=>{let{prefix:n}=t,i=e.get(n);if(i==null){let o=t.encode(r);return e.set(n,o),o}else return i},ze=112,ho=18,Or=(r,e,t)=>{let n=Ie(r),i=n+Ie(e),o=new Uint8Array(i+t.byteLength);return Se(r,o,0),Se(e,o,n),o.set(t,i),o},Ur=Symbol.for("@ipld/js-cid/CID"),Je={writable:!1,configurable:!1,enumerable:!0},Ge={writable:!1,enumerable:!1,configurable:!1},po="0.0.0-dev",yo=(r,e)=>{if(r.test(po))console.warn(e);else throw new Error(e)},mo=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var k=(r,e)=>(e&&e.add(r.multihash.bytes.buffer),r),D=r=>{let e=r;return e._baseCache||Object.defineProperty(e,"_baseCache",{value:new Map}),e.asCID||Object.defineProperty(e,"asCID",{get:()=>e}),Object.setPrototypeOf(e.multihash.digest,Uint8Array.prototype),Object.setPrototypeOf(e.multihash.bytes,Uint8Array.prototype),Object.setPrototypeOf(e.bytes,Uint8Array.prototype),Object.setPrototypeOf(e,b.prototype),Object.defineProperty(e,Symbol.for("@ipld/js-cid/CID"),{value:!0}),e};l();var Lr=(r,e)=>(e&&e.add(r.buffer),r);var pe=class extends ee{constructor(e){super("block",["put","get","rm","stat"],e)}};pe.prototype.get=async function(e,t={}){let{transfer:n}=t,{block:i}=await this.remote.get({...t,cid:k(e,n)});return i};pe.prototype.put=async function(e,t={}){let{transfer:n}=t;delete t.progress;let i=await this.remote.put({...t,block:e instanceof Uint8Array?e:Lr(e,n)});return D(i.cid)};pe.prototype.rm=async function*(e,t={}){let{transfer:n}=t;yield*(await this.remote.rm({...t,cids:Array.isArray(e)?e.map(o=>k(o,n)):[k(e,n)]})).map(go)};pe.prototype.stat=async function(e,t={}){let{transfer:n}=t,i=await this.remote.stat({...t,cid:k(e,n)});return{...i,cid:D(i.cid)}};var go=r=>{let e=D(r.cid);return r.error?{cid:e,error:Be(r.error)}:{cid:e}};l();l();var Nr=({dagNode:r,cids:e})=>{for(let t of e)D(t);return r},zr=(r,e)=>{let t=[];return Et(r,t,e),{dagNode:r,cids:t}},Et=(r,e,t)=>{if(r!=null&&typeof r=="object"){let n=b.asCID(r);if(n)e.push(n),k(n,t);else if(r instanceof ArrayBuffer)t&&t.add(r);else if(ArrayBuffer.isView(r))t&&t.add(r.buffer);else if(Array.isArray(r))for(let i of r)Et(i,e,t);else for(let i of Object.values(r))Et(i,e,t)}};var Te=class extends ee{constructor(e){super("dag",["put","get","resolve"],e)}};Te.prototype.put=async function(e,t={}){let n=await this.remote.put({...t,dagNode:zr(e,t.transfer)});return D(n)};Te.prototype.get=async function(e,t={}){let{value:n,remainderPath:i}=await this.remote.get({...t,cid:k(e,t.transfer)});return{value:Nr(n),remainderPath:i}};Te.prototype.resolve=async function(e,t={}){let{cid:n,remainderPath:i}=await this.remote.resolve({...t,cid:wo(e,t.transfer)});return{cid:D(n),remainderPath:i}};var wo=(r,e)=>typeof r=="string"?r:k(r,e);l();l();var Ye=async function*({port:r},e){let t=s=>{},n=()=>new Promise(s=>t=s),i=()=>(r.postMessage({method:"next"}),n());r.onmessage=s=>t(s.data);let o=!1;try{for(;!o;){let{done:s,value:c,error:a}=await i();if(o=s,a!=null)throw Be(a);c!=null&&(yield e(c))}}finally{o||r.postMessage({method:"return"}),r.close()}},J=(r,e,t)=>{let{port1:n,port2:i}=new MessageChannel,o=bo(r),s=new Set;return n.onmessage=async({data:{method:c}})=>{switch(c){case"next":{try{let{done:a,value:u}=await o.next();if(a)n.postMessage({type:"next",done:!0}),n.close();else{s.clear();let h=e(u,s);xo(n,{type:"next",done:!1,value:h},s)}}catch(a){n.postMessage({type:"throw",error:gr(a)}),n.close()}break}case"return":{n.close(),o.return&&o.return();break}default:break}},n.start(),t.add(i),{type:"RemoteIterable",port:i}},bo=r=>{if(r!=null){if(typeof r[Symbol.asyncIterator]=="function")return r[Symbol.asyncIterator]();if(typeof r[Symbol.iterator]=="function")return r[Symbol.iterator]()}throw TypeError("Value must be async or sync iterable")},Bt=(r,e)=>{let{port1:t,port2:n}=new MessageChannel;return t.onmessage=({data:i})=>r.apply(null,i),e.add(n),{type:"RemoteCallback",port:n}};var xo=(r,e,t)=>r.postMessage(e,t);var et=ke(jr());l();var Rn=ke(Pr());l();var re=ke(Mn()),De=re.default.Reader,zt=re.default.Writer,y=re.default.util,A=re.default.roots["ipfs-unixfs"]||(re.default.roots["ipfs-unixfs"]={}),Oo=A.Data=(()=>{function r(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.Type=0,r.prototype.Data=y.newBuffer([]),r.prototype.filesize=y.Long?y.Long.fromBits(0,0,!0):0,r.prototype.blocksizes=y.emptyArray,r.prototype.hashType=y.Long?y.Long.fromBits(0,0,!0):0,r.prototype.fanout=y.Long?y.Long.fromBits(0,0,!0):0,r.prototype.mode=0,r.prototype.mtime=null,r.encode=function(t,n){if(n||(n=zt.create()),n.uint32(8).int32(t.Type),t.Data!=null&&Object.hasOwnProperty.call(t,"Data")&&n.uint32(18).bytes(t.Data),t.filesize!=null&&Object.hasOwnProperty.call(t,"filesize")&&n.uint32(24).uint64(t.filesize),t.blocksizes!=null&&t.blocksizes.length)for(var i=0;i<t.blocksizes.length;++i)n.uint32(32).uint64(t.blocksizes[i]);return t.hashType!=null&&Object.hasOwnProperty.call(t,"hashType")&&n.uint32(40).uint64(t.hashType),t.fanout!=null&&Object.hasOwnProperty.call(t,"fanout")&&n.uint32(48).uint64(t.fanout),t.mode!=null&&Object.hasOwnProperty.call(t,"mode")&&n.uint32(56).uint32(t.mode),t.mtime!=null&&Object.hasOwnProperty.call(t,"mtime")&&A.UnixTime.encode(t.mtime,n.uint32(66).fork()).ldelim(),n},r.decode=function(t,n){t instanceof De||(t=De.create(t));for(var i=n===void 0?t.len:t.pos+n,o=new A.Data;t.pos<i;){var s=t.uint32();switch(s>>>3){case 1:o.Type=t.int32();break;case 2:o.Data=t.bytes();break;case 3:o.filesize=t.uint64();break;case 4:if(o.blocksizes&&o.blocksizes.length||(o.blocksizes=[]),(s&7)==2)for(var c=t.uint32()+t.pos;t.pos<c;)o.blocksizes.push(t.uint64());else o.blocksizes.push(t.uint64());break;case 5:o.hashType=t.uint64();break;case 6:o.fanout=t.uint64();break;case 7:o.mode=t.uint32();break;case 8:o.mtime=A.UnixTime.decode(t,t.uint32());break;default:t.skipType(s&7);break}}if(!o.hasOwnProperty("Type"))throw y.ProtocolError("missing required 'Type'",{instance:o});return o},r.fromObject=function(t){if(t instanceof A.Data)return t;var n=new A.Data;switch(t.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(t.Data!=null&&(typeof t.Data=="string"?y.base64.decode(t.Data,n.Data=y.newBuffer(y.base64.length(t.Data)),0):t.Data.length&&(n.Data=t.Data)),t.filesize!=null&&(y.Long?(n.filesize=y.Long.fromValue(t.filesize)).unsigned=!0:typeof t.filesize=="string"?n.filesize=parseInt(t.filesize,10):typeof t.filesize=="number"?n.filesize=t.filesize:typeof t.filesize=="object"&&(n.filesize=new y.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0))),t.blocksizes){if(!Array.isArray(t.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var i=0;i<t.blocksizes.length;++i)y.Long?(n.blocksizes[i]=y.Long.fromValue(t.blocksizes[i])).unsigned=!0:typeof t.blocksizes[i]=="string"?n.blocksizes[i]=parseInt(t.blocksizes[i],10):typeof t.blocksizes[i]=="number"?n.blocksizes[i]=t.blocksizes[i]:typeof t.blocksizes[i]=="object"&&(n.blocksizes[i]=new y.LongBits(t.blocksizes[i].low>>>0,t.blocksizes[i].high>>>0).toNumber(!0))}if(t.hashType!=null&&(y.Long?(n.hashType=y.Long.fromValue(t.hashType)).unsigned=!0:typeof t.hashType=="string"?n.hashType=parseInt(t.hashType,10):typeof t.hashType=="number"?n.hashType=t.hashType:typeof t.hashType=="object"&&(n.hashType=new y.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0))),t.fanout!=null&&(y.Long?(n.fanout=y.Long.fromValue(t.fanout)).unsigned=!0:typeof t.fanout=="string"?n.fanout=parseInt(t.fanout,10):typeof t.fanout=="number"?n.fanout=t.fanout:typeof t.fanout=="object"&&(n.fanout=new y.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0))),t.mode!=null&&(n.mode=t.mode>>>0),t.mtime!=null){if(typeof t.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=A.UnixTime.fromObject(t.mtime)}return n},r.toObject=function(t,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.blocksizes=[]),n.defaults){if(i.Type=n.enums===String?"Raw":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=y.newBuffer(i.Data))),y.Long){var o=new y.Long(0,0,!0);i.filesize=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.filesize=n.longs===String?"0":0;if(y.Long){var o=new y.Long(0,0,!0);i.hashType=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.hashType=n.longs===String?"0":0;if(y.Long){var o=new y.Long(0,0,!0);i.fanout=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.fanout=n.longs===String?"0":0;i.mode=0,i.mtime=null}if(t.Type!=null&&t.hasOwnProperty("Type")&&(i.Type=n.enums===String?A.Data.DataType[t.Type]:t.Type),t.Data!=null&&t.hasOwnProperty("Data")&&(i.Data=n.bytes===String?y.base64.encode(t.Data,0,t.Data.length):n.bytes===Array?Array.prototype.slice.call(t.Data):t.Data),t.filesize!=null&&t.hasOwnProperty("filesize")&&(typeof t.filesize=="number"?i.filesize=n.longs===String?String(t.filesize):t.filesize:i.filesize=n.longs===String?y.Long.prototype.toString.call(t.filesize):n.longs===Number?new y.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0):t.filesize),t.blocksizes&&t.blocksizes.length){i.blocksizes=[];for(var s=0;s<t.blocksizes.length;++s)typeof t.blocksizes[s]=="number"?i.blocksizes[s]=n.longs===String?String(t.blocksizes[s]):t.blocksizes[s]:i.blocksizes[s]=n.longs===String?y.Long.prototype.toString.call(t.blocksizes[s]):n.longs===Number?new y.LongBits(t.blocksizes[s].low>>>0,t.blocksizes[s].high>>>0).toNumber(!0):t.blocksizes[s]}return t.hashType!=null&&t.hasOwnProperty("hashType")&&(typeof t.hashType=="number"?i.hashType=n.longs===String?String(t.hashType):t.hashType:i.hashType=n.longs===String?y.Long.prototype.toString.call(t.hashType):n.longs===Number?new y.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0):t.hashType),t.fanout!=null&&t.hasOwnProperty("fanout")&&(typeof t.fanout=="number"?i.fanout=n.longs===String?String(t.fanout):t.fanout:i.fanout=n.longs===String?y.Long.prototype.toString.call(t.fanout):n.longs===Number?new y.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0):t.fanout),t.mode!=null&&t.hasOwnProperty("mode")&&(i.mode=t.mode),t.mtime!=null&&t.hasOwnProperty("mtime")&&(i.mtime=A.UnixTime.toObject(t.mtime,n)),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,re.default.util.toJSONOptions)},r.DataType=function(){let e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),r})(),xa=A.UnixTime=(()=>{function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.Seconds=y.Long?y.Long.fromBits(0,0,!1):0,r.prototype.FractionalNanoseconds=0,r.encode=function(t,n){return n||(n=zt.create()),n.uint32(8).int64(t.Seconds),t.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(t,"FractionalNanoseconds")&&n.uint32(21).fixed32(t.FractionalNanoseconds),n},r.decode=function(t,n){t instanceof De||(t=De.create(t));for(var i=n===void 0?t.len:t.pos+n,o=new A.UnixTime;t.pos<i;){var s=t.uint32();switch(s>>>3){case 1:o.Seconds=t.int64();break;case 2:o.FractionalNanoseconds=t.fixed32();break;default:t.skipType(s&7);break}}if(!o.hasOwnProperty("Seconds"))throw y.ProtocolError("missing required 'Seconds'",{instance:o});return o},r.fromObject=function(t){if(t instanceof A.UnixTime)return t;var n=new A.UnixTime;return t.Seconds!=null&&(y.Long?(n.Seconds=y.Long.fromValue(t.Seconds)).unsigned=!1:typeof t.Seconds=="string"?n.Seconds=parseInt(t.Seconds,10):typeof t.Seconds=="number"?n.Seconds=t.Seconds:typeof t.Seconds=="object"&&(n.Seconds=new y.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber())),t.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=t.FractionalNanoseconds>>>0),n},r.toObject=function(t,n){n||(n={});var i={};if(n.defaults){if(y.Long){var o=new y.Long(0,0,!1);i.Seconds=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else i.Seconds=n.longs===String?"0":0;i.FractionalNanoseconds=0}return t.Seconds!=null&&t.hasOwnProperty("Seconds")&&(typeof t.Seconds=="number"?i.Seconds=n.longs===String?String(t.Seconds):t.Seconds:i.Seconds=n.longs===String?y.Long.prototype.toString.call(t.Seconds):n.longs===Number?new y.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber():t.Seconds),t.FractionalNanoseconds!=null&&t.hasOwnProperty("FractionalNanoseconds")&&(i.FractionalNanoseconds=t.FractionalNanoseconds),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,re.default.util.toJSONOptions)},r})(),Ea=A.Metadata=(()=>{function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.MimeType="",r.encode=function(t,n){return n||(n=zt.create()),t.MimeType!=null&&Object.hasOwnProperty.call(t,"MimeType")&&n.uint32(10).string(t.MimeType),n},r.decode=function(t,n){t instanceof De||(t=De.create(t));for(var i=n===void 0?t.len:t.pos+n,o=new A.Metadata;t.pos<i;){var s=t.uint32();switch(s>>>3){case 1:o.MimeType=t.string();break;default:t.skipType(s&7);break}}return o},r.fromObject=function(t){if(t instanceof A.Metadata)return t;var n=new A.Metadata;return t.MimeType!=null&&(n.MimeType=String(t.MimeType)),n},r.toObject=function(t,n){n||(n={});var i={};return n.defaults&&(i.MimeType=""),t.MimeType!=null&&t.hasOwnProperty("MimeType")&&(i.MimeType=t.MimeType),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,re.default.util.toJSONOptions)},r})();var Ia=parseInt("0644",8),Aa=parseInt("0755",8);function Pn(r){if(r!=null)return typeof r=="number"?r&4095:(r=r.toString(),r.substring(0,1)==="0"?parseInt(r,8)&4095:parseInt(r,10)&4095)}function qn(r){if(r==null)return;let e;if(r.secs!=null&&(e={secs:r.secs,nsecs:r.nsecs}),r.Seconds!=null&&(e={secs:r.Seconds,nsecs:r.FractionalNanoseconds}),Array.isArray(r)&&(e={secs:r[0],nsecs:r[1]}),r instanceof Date){let t=r.getTime(),n=Math.floor(t/1e3);e={secs:n,nsecs:(t-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw(0,Rn.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}var Gn=ke(Vn()),Yn=ke(Jn()),me=class extends ee{constructor(e){super("core",["add","addAll","cat","ls"],e)}};me.prototype.addAll=async function*(e,t={}){let{timeout:n,signal:i}=t,o=t.transfer||new Set,s=t.progress?Bt(t.progress,o):void 0,c=await this.remote.addAll({...t,input:jo(e,o),progress:void 0,progressCallback:s,transfer:o,timeout:n,signal:i});yield*Ye(c.data,Qn)};me.prototype.add=async function(e,t={}){let{timeout:n,signal:i}=t,o=t.transfer||new Set,s=t.progress?Bt(t.progress,o):void 0,c=await this.remote.add({...t,input:await vo(e,o),progress:void 0,progressCallback:s,transfer:o,timeout:n,signal:i});return Qn(c.data)};me.prototype.cat=async function*(e,t={}){let n=b.asCID(e),i=n?k(n):e,o=await this.remote.cat({...t,path:i});yield*Ye(o.data,zo)};me.prototype.ls=async function*(e,t={}){let n=b.asCID(e),i=n?k(n):e,o=await this.remote.ls({...t,path:i});yield*Ye(o.data,No)};var Qn=({path:r,cid:e,mode:t,mtime:n,size:i})=>({path:r,cid:D(e),mode:t,mtime:n,size:i}),No=({name:r,path:e,size:t,cid:n,type:i,mode:o,mtime:s})=>({cid:D(n),type:i,name:r,path:e,mode:o,mtime:s,size:t}),zo=r=>r,vo=async(r,e)=>{if(r instanceof Blob)return r;if(typeof r=="string")return r;if(r instanceof ArrayBuffer)return r;if(ArrayBuffer.isView(r))return r;{let t=Mt(r);if(t)return J(await $t(t),vt,e);let n=Rt(r);if(n)return J(await $t(n),Fe,e);let i=Pt(r);if(i)return J(await $t((0,et.default)(i)),Fe,e);let o=qt(r);if(o)return jt(o,e);throw TypeError("Unexpected input: "+typeof r)}},jo=(r,e)=>{let t=Mt(r);if(t)return J(t,vt,e);let n=Rt(r);if(n)return J(n,Fe,e);let i=Pt(r);if(i)return J((0,et.default)(i),Fe,e);throw TypeError("Unexpected input: "+typeof r)},Fe=(r,e)=>{if(r instanceof ArrayBuffer)return r;if(ArrayBuffer.isView(r))return r;if(r instanceof Blob)return{path:"",content:r};if(typeof r=="string")return{path:"",content:r};{let t=qt(r);if(t)return jt(t,e);throw TypeError("Unexpected input: "+typeof r)}},vt=(r,e)=>{if(typeof r=="number")throw TypeError("Iterable of numbers is not supported");if(r instanceof ArrayBuffer)return r;if(ArrayBuffer.isView(r))return r;if(r instanceof Blob)return{path:"",content:r};if(typeof r=="string")return{path:"",content:r};{let t=qt(r);if(t)return jt(t,e);throw TypeError("Unexpected input: "+typeof r)}},jt=({path:r,mode:e,mtime:t,content:n},i)=>{let o={path:r,mode:Pn(e),mtime:qn(t)};return n&&(o.content=Mo(n,i)),o},Mo=(r,e)=>{if(r==null)return"";if(r instanceof ArrayBuffer||ArrayBuffer.isView(r))return r;if(r instanceof Blob)return r;if(typeof r=="string")return r;{let t=Mt(r);if(t)return J(t,vt,e);let n=Rt(r);if(n)return J(n,Fe,e);let i=Pt(r);if(i)return J((0,et.default)(i),Fe,e);throw TypeError("Unexpected input: "+typeof r)}},Mt=r=>{let e=r;return e&&typeof e[Symbol.iterator]=="function"?e:null},Rt=r=>{let e=r;return e&&typeof e[Symbol.asyncIterator]=="function"?e:null},Pt=r=>r&&typeof r.getReader=="function"?r:null,qt=r=>typeof r=="object"&&(r.path||r.content)?r:null,$t=async r=>{let e=(0,Gn.default)(r),{value:t,done:n}=await e.peek();if(n)return[];if(e.push(t),Number.isInteger(t)||Ro(t)||typeof t=="string"||t instanceof String)return e;throw(0,Yn.default)(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")};function Ro(r){return ArrayBuffer.isView(r)||r instanceof ArrayBuffer}l();var tt=class extends ee{constructor(e){super("files",["stat"],e)}};tt.prototype.stat=async function(e,t={}){let{size:n,hash:i,withLocal:o,timeout:s,signal:c}=t,{stat:a}=await this.remote.stat({path:Po(e),size:n,hash:i,withLocal:o,timeout:s,signal:c});return qo(a)};var Po=r=>b.asCID(r)?`/ipfs/${r.toString()}`:r.toString(),qo=r=>({...r,cid:D(r.cid)});var Re=class extends me{constructor(e){super(e);this.transport=e,this.dag=new Te(this.transport),this.files=new tt(this.transport),this.block=new pe(this.transport)}static attach(e,t){e.transport.connect(t)}static detached(){return new Re(new oe(void 0))}static from(e){return new Re(new oe(e))}};return $o;})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
return IpfsMessagePortClient}));
