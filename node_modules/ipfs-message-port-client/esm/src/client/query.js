export class Query {
  constructor(namespace, method, input) {
    this.result = new Promise((resolve, reject) => {
      this.succeed = resolve;
      this.fail = reject;
      this.signal = input.signal;
      this.input = input;
      this.namespace = namespace;
      this.method = method;
      this.timeout = input.timeout == null ? Infinity : input.timeout;
      this.timerID = null;
    });
  }
  toJSON() {
    return this.input;
  }
  transfer() {
    return this.input.transfer;
  }
}